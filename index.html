<!DOCTYPE html>
<html lang="en">
	<head>
		<title>spati party</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

		<link rel="shortcut icon" href="favicon.ico"/>

		<link rel="manifest" href="manifest.json"/>

  		<!-- Material Icons -->
  		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  		<!-- Bootstrap -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
		<link type="text/css" rel="stylesheet" href="main.css">
	</head>

	<body>
		<div class="info">
			<h1>excuse me where da späti party at</h1>
			<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal">
			  get da location
			</button>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true">
		  <div class="modal-dialog modal-dialog-centered" role="document">
		    <div class="modal-content">
		      <div class="modal-body">
		        <h5>how u wanna holla at späti party?</h5>
		        <div>
		        <a href="https://t.me/spatiparty">
		        	<i class="material-icons">send</i>
		        	<span class="telegram-text">telegram</span>
		        </a>
		    	</div>
		    	<div>
		        <a href="http://eepurl.com/gnrReb">
		        	<i class="material-icons">email</i>
		        	<span class="email-text">email</span>
		    	</a>
		    	</div>
		      </div>
		    </div>
		  </div>
		</div>

		<script type="module">

			import * as THREE from 'https://unpkg.com/three/build/three.module.js';

			import { OrbitControls } from 'https://unpkg.com/three/examples/jsm/controls/OrbitControls.js';

			import { GLTFLoader } from 'https://unpkg.com/three/examples/jsm/loaders/GLTFLoader.js';

			import { RoughnessMipmapper } from 'https://unpkg.com/three/examples/jsm/utils/RoughnessMipmapper.js';

			var container, controls, object;
			var camera, scene, renderer, light1, light2, light3, light4;

			var clock = new THREE.Clock();

			init();
			animate();

			function init() {

				scene = new THREE.Scene();

				var light = new THREE.AmbientLight( 0xFFFFFF ); // soft white light
				scene.add( light );

				var sphere = new THREE.SphereBufferGeometry( 0.5, 16, 8 );

				//lights

				light1 = new THREE.PointLight( 0xff0040, 5, 50 );
				light1.add( new THREE.Mesh( sphere, new THREE.MeshBasicMaterial( { color: 0xff0040 } ) ) );
				scene.add( light1 );

				camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 1, 1000 );

				camera.position.z = 100;

				renderer = new THREE.WebGLRenderer( { antialias: true, alpha: true } );
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );

				controls = new OrbitControls( camera, renderer.domElement );
				controls.addEventListener( 'change', render ); // use if there is no animation loop
				//controls.minDistance = 2;
				//controls.maxDistance = 10;
				controls.autoRotate = true
				controls.enableDamping = true
				controls.target.set( 0, 0, - 0.2 );
				controls.update();

				// Instantiate a loader
				var loader = new GLTFLoader();

				// Load a glTF resource
				loader.load(
					// resource URL
					'eggplant.gltf',
					// called when the resource is loaded
					function ( gltf ) {

						scene.add( gltf.scene );

						gltf.animations; // Array<THREE.AnimationClip>
						gltf.scene; // THREE.Group
						gltf.scenes; // Array<THREE.Group>
						gltf.cameras; // Array<THREE.Camera>
						gltf.asset; // Object

						object = gltf.scene;
						object.scale.multiplyScalar( 20 );
						//object.position.y = - 30;

						render()

					},
					// called while loading is progressing
					function ( xhr ) {

						console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );

					},
					// called when loading has errors
					function ( error ) {

						console.log( 'An error happened' );

					}
				);

				document.body.appendChild( renderer.domElement );

				window.addEventListener( 'resize', onWindowResize, false );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

				render();

			}

			function animate() {

				controls.update();

				requestAnimationFrame( animate );

				render();

			}

			function render() {

				renderer.render( scene, camera );

				var time = Date.now() * 0.0005;
				var delta = clock.getDelta();

				//if ( object ) object.rotation.y -= 0.1 * delta;

				light1.position.x = Math.sin( time * 5 ) * 20;
				light1.position.y = Math.cos( time * 5 ) * 20 - 2 * Math.cos(time);
				//light1.position.z = Math.cos( time * 0.3 ) * 30;
				light1.position.z = Math.cos( time ) * 35 - 10;

			}

		</script>
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
	</body>
</html>
